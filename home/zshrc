source $HOME/.zsh/antigen.zsh

antigen use oh-my-zsh

if [[ $IS_MAC -eq 1 ]]; then
   antigen bundle brew
   antigen bundle brew-cask
   antigen bundle osx
   antigen bundle vagrant
   antigen bundle heroku
fi

antigen bundles <<EOBUNDLES
  $HOME/.zsh/plugins/gary

  bundler
  capistrano
  catimg
  colored-man
  colorize
  command-not-found
  cp
  extract
  fasd
  gem
  git
  git-flow
  git-remote-branch
  gitignore
  pip
  rails
  rake
  rake-fast
  rbenv
  ruby
  safe-paste

  bobthecow/git-flow-completion
  djui/alias-tips
  zsh-users/zsh-syntax-highlighting
  zsh-users/zsh-history-substring-search
EOBUNDLES

antigen theme $HOME/.zsh/themes gary_pure_mod

antigen apply

for f ($HOME/.zsh/*.zsh) {source $f}
for f ($HOME/.zsh/private/*.zsh) {source $f}

ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets pattern cursor)
ZSH_HIGHLIGHT_STYLES+=(
  default                       'none'
  unknown-token                 'fg=red,bold'
  reserved-word                 'fg=yellow'
  alias                         'fg=none,bold'
  builtin                       'fg=none,bold'
  function                      'fg=none,bold'
  command                       'fg=none,bold'
  hashed-command                'fg=none,bold'
  path                          'fg=cyan'
  globbing                      'fg=cyan'
  history-expansion             'fg=blue'
  single-hyphen-option          'fg=magenta'
  double-hyphen-option          'fg=magenta'
  back-quoted-argument          'fg=magenta,bold'
  single-quoted-argument        'fg=green'
  double-quoted-argument        'fg=green'
  dollar-double-quoted-argument 'fg=cyan'
  back-double-quoted-argument   'fg=cyan'
  assign                        'none'
)

if [[ $HAS_IMG2XTERM -eq 1 ]]; then
  img2xterm $HOME/.zsh/plugins/meeseeks_iterm.png
  green "-------------------------------"
  echo "$(uptime | awk -F'[a-z]:' '{ print "Load:"$2 }') | $(battery)"
elif [[ $HAS_COWSAY -eq 1 ]]; then
  echo "CAN DO!" | cowsay -f $HOME/.zsh/plugins/cows/meeseeks.cow
else
  uptime
fi

[ -f ~/.iterm2_shell_integration.zsh ] && source ~/.iterm2_shell_integration.zsh

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
